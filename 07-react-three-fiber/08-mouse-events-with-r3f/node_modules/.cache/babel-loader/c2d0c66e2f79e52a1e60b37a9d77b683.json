{"ast":null,"code":"import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\n\nfunction AsciiRenderer(_ref) {\n  let {\n    renderIndex = 1,\n    bgColor = 'black',\n    fgColor = 'white',\n    characters = ' .:-+*=%@#',\n    invert = true,\n    color = false,\n    resolution = 0.15\n  } = _ref;\n  // Reactive state\n  const {\n    size,\n    gl,\n    scene,\n    camera\n  } = useThree(); // Create effect\n\n  const effect = React.useMemo(() => {\n    const effect = new AsciiEffect(gl, characters, {\n      invert,\n      color,\n      resolution\n    });\n    effect.domElement.style.position = 'absolute';\n    effect.domElement.style.top = '0px';\n    effect.domElement.style.left = '0px';\n    effect.domElement.style.pointerEvents = 'none';\n    return effect;\n  }, [characters, invert, color, resolution]); // Styling\n\n  React.useLayoutEffect(() => {\n    effect.domElement.style.color = fgColor;\n    effect.domElement.style.backgroundColor = bgColor;\n  }, [fgColor, bgColor]); // Append on mount, remove on unmount\n\n  React.useEffect(() => {\n    gl.domElement.style.opacity = '0';\n    gl.domElement.parentNode.appendChild(effect.domElement);\n    return () => {\n      gl.domElement.style.opacity = '1';\n      gl.domElement.parentNode.removeChild(effect.domElement);\n    };\n  }, [effect]); // Set size\n\n  React.useEffect(() => {\n    effect.setSize(size.width, size.height);\n  }, [effect, size]); // Take over render-loop (that is what the index is for)\n\n  useFrame(state => {\n    effect.render(scene, camera);\n  }, renderIndex); // This component returns nothing, it is a purely logical\n}\n\nexport { AsciiRenderer };","map":{"version":3,"names":["React","useThree","useFrame","AsciiEffect","AsciiRenderer","renderIndex","bgColor","fgColor","characters","invert","color","resolution","size","gl","scene","camera","effect","useMemo","domElement","style","position","top","left","pointerEvents","useLayoutEffect","backgroundColor","useEffect","opacity","parentNode","appendChild","removeChild","setSize","width","height","state","render"],"sources":["/home/rodrigorvsn/workspace/study/threejs-journey/07-react-three-fiber/08-mouse-events-with-r3f/node_modules/@react-three/drei/core/AsciiRenderer.js"],"sourcesContent":["import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\n\nfunction AsciiRenderer({\n  renderIndex = 1,\n  bgColor = 'black',\n  fgColor = 'white',\n  characters = ' .:-+*=%@#',\n  invert = true,\n  color = false,\n  resolution = 0.15\n}) {\n  // Reactive state\n  const {\n    size,\n    gl,\n    scene,\n    camera\n  } = useThree(); // Create effect\n\n  const effect = React.useMemo(() => {\n    const effect = new AsciiEffect(gl, characters, {\n      invert,\n      color,\n      resolution\n    });\n    effect.domElement.style.position = 'absolute';\n    effect.domElement.style.top = '0px';\n    effect.domElement.style.left = '0px';\n    effect.domElement.style.pointerEvents = 'none';\n    return effect;\n  }, [characters, invert, color, resolution]); // Styling\n\n  React.useLayoutEffect(() => {\n    effect.domElement.style.color = fgColor;\n    effect.domElement.style.backgroundColor = bgColor;\n  }, [fgColor, bgColor]); // Append on mount, remove on unmount\n\n  React.useEffect(() => {\n    gl.domElement.style.opacity = '0';\n    gl.domElement.parentNode.appendChild(effect.domElement);\n    return () => {\n      gl.domElement.style.opacity = '1';\n      gl.domElement.parentNode.removeChild(effect.domElement);\n    };\n  }, [effect]); // Set size\n\n  React.useEffect(() => {\n    effect.setSize(size.width, size.height);\n  }, [effect, size]); // Take over render-loop (that is what the index is for)\n\n  useFrame(state => {\n    effect.render(scene, camera);\n  }, renderIndex); // This component returns nothing, it is a purely logical\n}\n\nexport { AsciiRenderer };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,oBAAnC;AACA,SAASC,WAAT,QAA4B,cAA5B;;AAEA,SAASC,aAAT,OAQG;EAAA,IARoB;IACrBC,WAAW,GAAG,CADO;IAErBC,OAAO,GAAG,OAFW;IAGrBC,OAAO,GAAG,OAHW;IAIrBC,UAAU,GAAG,YAJQ;IAKrBC,MAAM,GAAG,IALY;IAMrBC,KAAK,GAAG,KANa;IAOrBC,UAAU,GAAG;EAPQ,CAQpB;EACD;EACA,MAAM;IACJC,IADI;IAEJC,EAFI;IAGJC,KAHI;IAIJC;EAJI,IAKFd,QAAQ,EALZ,CAFC,CAOe;;EAEhB,MAAMe,MAAM,GAAGhB,KAAK,CAACiB,OAAN,CAAc,MAAM;IACjC,MAAMD,MAAM,GAAG,IAAIb,WAAJ,CAAgBU,EAAhB,EAAoBL,UAApB,EAAgC;MAC7CC,MAD6C;MAE7CC,KAF6C;MAG7CC;IAH6C,CAAhC,CAAf;IAKAK,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBC,QAAxB,GAAmC,UAAnC;IACAJ,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBE,GAAxB,GAA8B,KAA9B;IACAL,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBG,IAAxB,GAA+B,KAA/B;IACAN,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBI,aAAxB,GAAwC,MAAxC;IACA,OAAOP,MAAP;EACD,CAXc,EAWZ,CAACR,UAAD,EAAaC,MAAb,EAAqBC,KAArB,EAA4BC,UAA5B,CAXY,CAAf,CATC,CAoB4C;;EAE7CX,KAAK,CAACwB,eAAN,CAAsB,MAAM;IAC1BR,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBT,KAAxB,GAAgCH,OAAhC;IACAS,MAAM,CAACE,UAAP,CAAkBC,KAAlB,CAAwBM,eAAxB,GAA0CnB,OAA1C;EACD,CAHD,EAGG,CAACC,OAAD,EAAUD,OAAV,CAHH,EAtBC,CAyBuB;;EAExBN,KAAK,CAAC0B,SAAN,CAAgB,MAAM;IACpBb,EAAE,CAACK,UAAH,CAAcC,KAAd,CAAoBQ,OAApB,GAA8B,GAA9B;IACAd,EAAE,CAACK,UAAH,CAAcU,UAAd,CAAyBC,WAAzB,CAAqCb,MAAM,CAACE,UAA5C;IACA,OAAO,MAAM;MACXL,EAAE,CAACK,UAAH,CAAcC,KAAd,CAAoBQ,OAApB,GAA8B,GAA9B;MACAd,EAAE,CAACK,UAAH,CAAcU,UAAd,CAAyBE,WAAzB,CAAqCd,MAAM,CAACE,UAA5C;IACD,CAHD;EAID,CAPD,EAOG,CAACF,MAAD,CAPH,EA3BC,CAkCa;;EAEdhB,KAAK,CAAC0B,SAAN,CAAgB,MAAM;IACpBV,MAAM,CAACe,OAAP,CAAenB,IAAI,CAACoB,KAApB,EAA2BpB,IAAI,CAACqB,MAAhC;EACD,CAFD,EAEG,CAACjB,MAAD,EAASJ,IAAT,CAFH,EApCC,CAsCmB;;EAEpBV,QAAQ,CAACgC,KAAK,IAAI;IAChBlB,MAAM,CAACmB,MAAP,CAAcrB,KAAd,EAAqBC,MAArB;EACD,CAFO,EAELV,WAFK,CAAR,CAxCC,CA0CgB;AAClB;;AAED,SAASD,aAAT"},"metadata":{},"sourceType":"module"}